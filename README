# 読書おみくじ - アプリケーション概要と技術仕様

今日のあなたにぴったりの一冊を占う、Webアプリケーションです。
キーワード検索やおみくじ機能を通じて、新しい本との出会いを提供します。

## 主な機能

### 1. おみくじ機能
- トップページで「おみくじを引く」ボタンを押すと、登録されている書籍の中からランダムで4冊の本をおすすめします。
- 気分や好きな作家名などのキーワードを入力して検索すると、そのキーワードにマッチした本をおすすめします。

### 2. 書籍の閲覧
- **書籍一覧**: 登録されているすべての書籍を一覧で確認できます。（パフォーマンスのため、現在は先頭50件のみ表示）
- **書籍詳細**: 気になった本のタイトルや著者、あらすじ、価格などの詳細情報を確認できます。

### 3. お気に入り機能
- 気に入った本は「お気に入り登録」ボタンで保存できます。
- 登録した本は「お気に入り帳」ページからいつでも見返すことができます。
- お気に入りの登録・解除は、ページを再読み込みすることなくスムーズに行えます。

## 使用技術

- **バックエンド**: Ruby (CGI)
- **フロントエンド**: HTML, CSS, JavaScript
- **データ**:
    - 書籍情報: XML (`data0421.xml`)
    - お気に入り情報: テキストファイル (`favorites.txt`)
- **テンプレートエンジン**: XSLT (`style.xsl`, `detail_style.xsl`)

## ファイル構成

```
.
├── gacha_cgi.rb         # メインのCGIスクリプト
├── index.html           # トップページ
├── style.css            # トップページのスタイルシート
├── style.xsl            # 検索結果・一覧ページのXSLTテンプレート
├── detail_style.xsl     # 書籍詳細ページのXSLTテンプレート
├── data0421.xml         # 書籍データ
└── favorites.txt        # お気に入りデータ保存用ファイル
```

## セットアップと実行方法

1.  Rubyの実行環境がセットアップされたWebサーバーに、すべてのファイルをアップロードします。
2.  `gacha_cgi.rb` に実行権限を与えます (`chmod 755 gacha_cgi.rb`)。
3.  Webブラウザで `index.html` にアクセスします。
